{"version":3,"sources":["webpack:///./src/views/Register.vue?9b8e","webpack:///./node_modules/core-js/modules/_fix-re-wks.js","webpack:///./src/components/Avatar.vue?76c2","webpack:///./src/views/Register.vue?bf49","webpack:///./src/utils/chooseImg.js","webpack:///./src/utils/validator.js","webpack:///./src/components/Button.vue?f774","webpack:///src/components/Button.vue","webpack:///./src/components/Button.vue?9f16","webpack:///./src/components/Button.vue","webpack:///./src/components/Avatar.vue?ecd1","webpack:///src/components/Avatar.vue","webpack:///./src/components/Avatar.vue?7d9d","webpack:///./src/components/Avatar.vue","webpack:///src/views/Register.vue","webpack:///./src/views/Register.vue?a0dd","webpack:///./src/views/Register.vue","webpack:///./node_modules/core-js/modules/es6.regexp.replace.js","webpack:///./src/components/Button.vue?4974"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Register_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","hide","__webpack_require__","redefine","fails","defined","wks","module","exports","KEY","length","exec","SYMBOL","fns","strfn","rxfn","O","String","prototype","RegExp","string","arg","call","this","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Avatar_vue_vue_type_style_index_0_id_6a597685_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","src","avatar","on","click","filePickerOnClick","class","error","username","validUsername","data-error","directives","name","rawName","value","expression","autocomplete","maxlength","type","placeholder","domProps","blur","presubmit","input","$event","target","composing","password","validPassword","errorPassword","userExist","_e","inviteCode","validInviteCode","errorInviteCode","disabled","allowLogin","login","_v","allowRegister","register","ref","capture","accept","id","hidden","change","doChooseImg","staticRenderFns","toPreviewer","dataUrl","cb","compress","img","fileType","canvas","document","createElement","ctx","getContext","width","height","fillStyle","fillRect","drawImage","base64data","toDataURL","chooseImg","e","maxsize","arguments","undefined","file","files","test","reader","FileReader","onload","result","Image","compressedDataUrl","readAsDataURL","utils_chooseImg","isUsername","str","isPassword","psw","isInviteCode","code","Buttonvue_type_template_id_476ddda0_render","onItemClick","_t","Buttonvue_type_template_id_476ddda0_staticRenderFns","Buttonvue_type_script_lang_js_","props","default","methods","$emit","components_Buttonvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","Button","Avatarvue_type_template_id_6a597685_scoped_true_render","unclickable","small","alt","Avatarvue_type_template_id_6a597685_scoped_true_staticRenderFns","Avatarvue_type_script_lang_js_","Boolean","components_Avatarvue_type_script_lang_js_","Avatar_component","Avatar","Registervue_type_script_lang_js_","data","computed","$refs","filePicker","_this","_presubmit","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","$store","dispatch","sent","stop","apply","_login","_callee2","loginInfo","_this2","_context2","sessionStorage","setItem","saveToken","$router","replace","setTimeout","_register","_callee3","registerInfo","_this3","_context3","message","accessToken","refreshToken","components","o-button","views_Registervue_type_script_lang_js_","Register_component","__webpack_exports__","REPLACE","$replace","searchValue","replaceValue","fn","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Button_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-3bdf.af0aa303.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=style&index=0&lang=less&\"","'use strict';\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n  var fns = exec(defined, SYMBOL, ''[KEY]);\n  var strfn = fns[0];\n  var rxfn = fns[1];\n  if (fails(function () {\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  })) {\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Avatar.vue?vue&type=style&index=0&id=6a597685&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Avatar.vue?vue&type=style&index=0&id=6a597685&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"register\"},[_c('Avatar',{attrs:{\"src\":_vm.avatar},on:{\"click\":_vm.filePickerOnClick}}),_c('div',{staticClass:\"register-form\"},[_c('div',{staticClass:\"register-form-input-box\",class:{'error': _vm.username && !_vm.validUsername},attrs:{\"data-error\":\"Invalid username!\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.username),expression:\"username\"}],staticClass:\"register-form-input\",attrs:{\"autocomplete\":\"new-password\",\"maxlength\":\"12\",\"type\":\"text\",\"placeholder\":\"Name\"},domProps:{\"value\":(_vm.username)},on:{\"blur\":_vm.presubmit,\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value}}})]),_c('div',{staticClass:\"register-form-input-box\",class:{'error': _vm.password && !_vm.validPassword},attrs:{\"data-error\":\"Invalid password!\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"register-form-input\",class:{'error': _vm.errorPassword},attrs:{\"autocomplete\":\"new-password\",\"maxlength\":\"12\",\"type\":\"password\",\"placeholder\":\"Password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),(!_vm.userExist)?_c('div',{staticClass:\"register-form-input-box\",class:{'error': _vm.inviteCode && !_vm.validInviteCode},attrs:{\"data-error\":\"Invalid invite code!\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inviteCode),expression:\"inviteCode\"}],staticClass:\"register-form-input\",class:{'error': _vm.errorInviteCode},attrs:{\"autocomplete\":\"new-password\",\"maxlength\":\"4\",\"type\":\"text\",\"placeholder\":\"Invite code\"},domProps:{\"value\":(_vm.inviteCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inviteCode=$event.target.value}}})]):_vm._e(),_c('div',{staticClass:\"register-form-btn-box\"},[(_vm.userExist)?_c('o-button',{staticClass:\"register-form-btn\",attrs:{\"disabled\":!_vm.allowLogin,\"type\":\"success\"},on:{\"click\":_vm.login}},[_vm._v(\"Login\")]):_vm._e(),(!_vm.userExist)?_c('o-button',{staticClass:\"register-form-btn\",attrs:{\"disabled\":!_vm.allowRegister,\"type\":\"success\"},on:{\"click\":_vm.register}},[_vm._v(\"Register\")]):_vm._e()],1)]),_c('input',{ref:\"filePicker\",attrs:{\"type\":\"file\",\"capture\":\"camera\",\"accept\":\"image/*\",\"id\":\"file-picker\",\"hidden\":\"\"},on:{\"change\":_vm.doChooseImg}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 200 KB 对应的字节数\nfunction toPreviewer (dataUrl, cb) {\n  cb && cb(dataUrl)\n}\n\nfunction compress (img, fileType) {\n  let canvas = document.createElement('canvas')\n  let ctx = canvas.getContext('2d')\n\n  const width = img.width\n  const height = img.height\n\n  canvas.width = width\n  canvas.height = height\n\n  ctx.fillStyle = '#fff'\n  ctx.fillRect(0, 0, canvas.width, canvas.height)\n  ctx.drawImage(img, 0, 0, width, height)\n\n  // 压缩\n  const base64data = canvas.toDataURL(fileType, 0.75)\n  canvas = ctx = null\n\n  return base64data\n}\n\nfunction chooseImg (e, cb, maxsize = 200 * 1024) {\n  const file = e.target.files[0]\n  // 接受 jpeg, jpg, png 类型的图片\n  if (!/\\/(?:jpeg|jpg|png)/i.test(file.type)) {\n    return\n  }\n\n  const reader = new FileReader()\n  reader.onload = function () {\n    const result = this.result\n    let img = new Image()\n\n    // 如果图片小于 200kb，不压缩\n    if (result.length <= maxsize) {\n      toPreviewer(result, cb)\n      return\n    }\n\n    img.onload = function () {\n      const compressedDataUrl = compress(img, file.type)\n      toPreviewer(compressedDataUrl, cb)\n      img = null\n    }\n\n    img.src = result\n  }\n\n  reader.readAsDataURL(file)\n}\n\nexport default chooseImg\n","export const isUsername = (str) => {\n  return (typeof str === 'string') && (str.length && str.length < 12)\n}\n\nexport const isPassword = (psw) => {\n  return /^[0-9a-zA-Z]{6,16}$/.test(psw)\n}\n\nexport const isInviteCode = (code) => {\n  return /^[0-9]{4}$/.test(code)\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"button\",class:_vm.type,on:{\"click\":_vm.onItemClick}},[_vm._t(\"default\",[_vm._v(\"Button\")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <button class=\"button\" :class=\"type\" @click=\"onItemClick\">\n    <slot>Button</slot>\n  </button>\n</template>\n\n<script>\nexport default {\n  props: {\n    type: {\n      type: String,\n      default: 'default'\n    }\n  },\n  methods: {\n    onItemClick (e) {\n      this.$emit('click', e)\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n.button {\n  border: none;\n  padding: 10px 15px;\n  font-size: 18px;\n  outline: none;\n  border-radius: 4px;\n  &[disabled] {\n    opacity: .7;\n  }\n}\n.default {\n  color: #333;\n  border: 1px solid #333;\n}\n\n.success {\n  background: #00bfa5;\n  color: #fff;\n  &:active {\n    background: #008e76;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Button.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Button.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Button.vue?vue&type=template&id=476ddda0&\"\nimport script from \"./Button.vue?vue&type=script&lang=js&\"\nexport * from \"./Button.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Button.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Button.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"avatar\",class:{'unclickable': _vm.unclickable, 'small': _vm.small}},[_c('img',{attrs:{\"src\":_vm.src,\"alt\":\"\"},on:{\"click\":_vm.onItemClick}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"avatar\" :class=\"{'unclickable': unclickable, 'small': small}\">\n    <img :src=\"src\" alt=\"\" @click=\"onItemClick\">\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    src: {\n      type: String,\n      default: ''\n    },\n    unclickable: {\n      type: Boolean,\n      default: false\n    },\n    small: {\n      type: Boolean,\n      default: false\n    }\n  },\n  methods: {\n    onItemClick (e) {\n      this.$emit('click', e)\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.avatar {\n  width: 120px;\n  height: 120px;\n  border-radius: 120px;\n  overflow: hidden;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 30px;\n  border: 1px solid #ccc;\n  background: #fff;\n  cursor: pointer;\n  -webkit-tap-highlight-color: transparent;\n  img {\n    max-width: 100%;\n    max-height: 100%;\n    object-fit: contain;\n  }\n  &.unclickable {\n    cursor: default;\n  }\n  &.small {\n    width: 60px;\n    height: 60px;\n    margin-bottom: 15px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Avatar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Avatar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Avatar.vue?vue&type=template&id=6a597685&scoped=true&\"\nimport script from \"./Avatar.vue?vue&type=script&lang=js&\"\nexport * from \"./Avatar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Avatar.vue?vue&type=style&index=0&id=6a597685&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a597685\",\n  null\n  \n)\n\ncomponent.options.__file = \"Avatar.vue\"\nexport default component.exports","<template>\n  <div class=\"page\">\n    <div class=\"register\">\n      <Avatar :src=\"avatar\" @click=\"filePickerOnClick\"></Avatar>\n      <div class=\"register-form\">\n        <div class=\"register-form-input-box\" :class=\"{'error': username && !validUsername}\" data-error=\"Invalid username!\">\n          <input autocomplete=\"new-password\" maxlength=\"12\" class=\"register-form-input\" type=\"text\" placeholder=\"Name\" v-model=\"username\" @blur=\"presubmit\">\n        </div>\n        <div class=\"register-form-input-box\" :class=\"{'error': password && !validPassword}\" data-error=\"Invalid password!\">\n          <input autocomplete=\"new-password\" maxlength=\"12\" class=\"register-form-input\" :class=\"{'error': errorPassword}\" type=\"password\" placeholder=\"Password\" v-model=\"password\">\n        </div>\n        <div class=\"register-form-input-box\" v-if=\"!userExist\" :class=\"{'error': inviteCode && !validInviteCode}\" data-error=\"Invalid invite code!\">\n          <input autocomplete=\"new-password\" maxlength=\"4\" class=\"register-form-input\" :class=\"{'error': errorInviteCode}\" type=\"text\" placeholder=\"Invite code\" v-model=\"inviteCode\">\n        </div>\n        <div class=\"register-form-btn-box\">\n          <o-button class=\"register-form-btn\" v-if=\"userExist\" :disabled=\"!allowLogin\" type=\"success\" @click=\"login\">Login</o-button>\n          <o-button class=\"register-form-btn\" v-if=\"!userExist\" :disabled=\"!allowRegister\" type=\"success\" @click=\"register\">Register</o-button>\n        </div>\n      </div>\n      <input type=\"file\" capture=\"camera\" ref=\"filePicker\" accept=\"image/*\" id=\"file-picker\" hidden  @change=\"doChooseImg\">\n    </div>\n  </div>\n</template>\n\n<script>\n/* eslint-disable no-console */\n\nimport chooseImg from '@/utils/chooseImg'\nimport { isUsername, isPassword, isInviteCode } from '@/utils/validator'\nimport Button from '@/components/Button'\nimport Avatar from '@/components/Avatar'\n\nexport default {\n  data () {\n    return {\n      username: '',\n      password: '',\n      inviteCode: '',\n      userExist: false,\n      errorPassword: false,\n      errorInviteCode: false,\n      avatar: 'data:image/jpeg;base64,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'\n    }\n  },\n  computed: {\n    validUsername () {\n      return isUsername(this.username)\n    },\n    validPassword () {\n      return isPassword(this.password)\n    },\n    validInviteCode () {\n      return isInviteCode(this.inviteCode)\n    },\n    allowRegister () {\n      return this.validUsername && this.validPassword && this.validInviteCode\n    },\n    allowLogin () {\n      return this.validUsername && this.validPassword\n    }\n  },\n  methods: {\n    filePickerOnClick () {\n      this.$refs.filePicker.click()\n    },\n    doChooseImg (e) {\n      chooseImg(e, (dataUrl) => {\n        this.avatar = dataUrl\n      })\n    },\n    async presubmit () {\n      const result = await this.$store.dispatch('preSubmit', {\n        username: this.username\n      })\n      if (result.username) {\n        this.userExist = true\n        this.avatar = result.avatar\n      } else {\n        this.userExist = false\n      }\n    },\n    async login () {\n      const loginInfo = {\n        username: this.username,\n        password: this.password\n      }\n      const result = await this.$store.dispatch('doLogin', loginInfo)\n      if (!result.username) {\n        this.errorPassword = true\n        setTimeout(() => {\n          this.errorPassword = false\n        }, 1000)\n      } else {\n        sessionStorage && sessionStorage.setItem('oChatAvatar', result.avatar)\n        sessionStorage && sessionStorage.setItem('oChatUsername', this.username)\n        this.saveToken(result['access_token'], result['refresh_token'])\n        this.$router.replace('/chat')\n      }\n    },\n    async register () {\n      const registerInfo = {\n        username: this.username,\n        password: this.password,\n        inviteCode: this.inviteCode,\n        avatar: this.avatar\n      }\n      const result = await this.$store.dispatch('doRegistration', registerInfo)\n      if (result.message === 'Invite code error!') {\n        this.errorInviteCode = true\n        setTimeout(() => {\n          this.errorInviteCode = false\n        }, 1000)\n      } else {\n        sessionStorage && sessionStorage.setItem('oChatAvatar', result.avatar)\n        sessionStorage && sessionStorage.setItem('oChatUsername', this.username)\n        this.saveToken(result['access_token'], result['refresh_token'])\n        this.$router.replace('/chat')\n      }\n    },\n    saveToken (accessToken, refreshToken) {\n      if (sessionStorage) {\n        sessionStorage.setItem('oChatAT', accessToken)\n        sessionStorage.setItem('oChatRT', refreshToken)\n      }\n    }\n  },\n  components: {\n    'o-button': Button,\n    Avatar\n  }\n}\n</script>\n\n<style lang=\"less\">\n.page {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  .register {\n    width: 320px;\n    height: 460px;\n    background: #fff;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    border-radius: 5px;\n    box-shadow: 0 1px 1px 0 rgba(60,64,67,.08), 0 1px 3px 1px rgba(60,64,67,.16);\n    &-form {\n      padding: 0 25px;\n      width: 100%;\n      box-sizing: border-box;\n      &-input {\n        width: 100%;\n        border: none;\n        outline: none;\n        box-sizing: border-box;\n        font-size: 16px;\n        height: 26px;\n        line-height: 26px;\n        &.error {\n          animation: shake 0.8s 1;\n        }\n      }\n      &-btn {\n        float: right;\n      }\n    }\n  }\n}\n\n.register-form-input-box {\n  position: relative;\n  width: 100%;\n  height: 32px;\n  margin-bottom: 15px;\n  border-bottom: 1px solid #ccc;\n  overflow: hidden;\n  &.error:after {\n    content: attr(data-error);\n    color: red;\n    position: absolute;\n    right: 0;\n    top: 10px;\n    font-size: 14px;\n  }\n}\n.register-form-btn-box {\n  padding-top: 30px;\n}\n\n@keyframes shake {\n  from,\n  to {\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n\n  10%,\n  30%,\n  50%,\n  70%,\n  90% {\n    -webkit-transform: translate3d(-10px, 0, 0);\n    transform: translate3d(-10px, 0, 0);\n  }\n\n  20%,\n  40%,\n  60%,\n  80% {\n    -webkit-transform: translate3d(10px, 0, 0);\n    transform: translate3d(10px, 0, 0);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=6e4fbcea&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Register.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Register.vue\"\nexport default component.exports","// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace) {\n  // 21.1.3.14 String.prototype.replace(searchValue, replaceValue)\n  return [function replace(searchValue, replaceValue) {\n    'use strict';\n    var O = defined(this);\n    var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n    return fn !== undefined\n      ? fn.call(searchValue, O, replaceValue)\n      : $replace.call(String(O), searchValue, replaceValue);\n  }, $replace];\n});\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Button.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Button.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}